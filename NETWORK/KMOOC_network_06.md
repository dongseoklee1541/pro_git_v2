# IP주소와 서브넷

## IP 주소

시스템의 연결 당 하나씩 할당되는 주소. 컴퓨터(스마트폰 등등 네트워크를 사용하는 기기)들을 구별하기 위한 수단

* IP 주소는 DDN(dotted-decimal notation)으로 표시 : 점을 찍어서 10진수로 표기

### 클래스 구분 주소(classful addressing)
첫번째 숫자의 비트를 가지고 A,B,C,D,E 5개의 클래스를 나눠서 구별

* 클래스 A,B,C는 일대일통신(unicast)으로 사용
* 클래스 D는 멀티캐스트 통신으로 사용
* 클래스 E는 앞으로 사용을 위한 예비용

#### Netid 와 hostid
* Netid는 각 네트워크를 구분하는 네트워크 식별자
* hostid는 네트워크 내의 호스트를 구분하는 호스트 식별자

* IP주소 중에서 특별한 용도로 사용되는 주소는 시스템에 할당하지 않음 : 컴퓨터에 할당해 사용할 수 없음
  * 브로드캐스트 주소 : netid.255,255.255.255.255와 같이 hostid부분이 모두 1인 주소
  * netid.0와 같이 hostid가 0인 주소는 해당 네트워크를 의미 : 0.0.0.0 은 특정 시스템에 할당 하지 않음
  * netid가 127인 경우 loopback을 의미 : 특정 시스템에 할당하지 않음
  
## 서브넷 주소설정(Subnetting)
회사 내부에서는 여러 개의 서브 네트워크로 구별될 필요가 있어서(경영부서, 개발부서, 회계부서 등) hostid의 일부를 사용해, 네트워크를 서브넷(subnet)
으로 구분하고 각 서브넷에 서브넷 식별자를 할당하는 방법을 사용한다.

* 134.75.0.0과 같은 B 클래스 주소를 아래 그림과 같이 모든 시스템에 할당
  * 그러나 실제 기업의 네트워크는 하나의 LAN으로 구성되지 않음
  * 134.75.1.0 은 영업부, 134.75.2.0은 기술부, 134.75.3.0 은 기획부 등 hostid 일부를 subnet id로 사용 가능
  
### 마스크(Mask)
서브넷팅을 사용하는 경우, hostid의 일부분을 사용하게 되어 몇 비트를 subnet 식별자로 사용하고 있는지 확인하는 방법이 필요하다.
  * 기존의 클래스 구분은 첫 번쨰 바이트로 구별이 가능했고 이떄의 마스크를 기본 마스크(default mask)라고 한다.
  * 라우팅은 외부에서는 netid를 기반, 내부에서는 netid와 subnet 식별자를 기반
  
**사선(slash, / )나 CIDR(Classless Interdomain Routing, . )** 표기를 사용해 구별한다.


# IP 주소의 응용

## 가변길이 주소지정(Classless addressing)
클래스를 기반으로 구분하면, 나눠주는 갯수의 한계와 정확한 양의 IP주소를 받을 수 없다.(C클래스는 대략 250대) 그러나 Classless addressing을 한다면, 원하는 수만큼의 주소만 배정이 가능하다.(컴퓨터 10대만 있는 사무실에는 IP를 10대만 배분)

### 가변길이 주소 할당 규칙

* 할당하는 주소의 수는 **2^N**이여야 함.
  * IP주소가 30개가 필요하다면, 32개를 줘야 한다.
* 할당하는 주소는 **연속적**임
* **시작 주소는 할당하는 주소의 수로 나누어 떨어짐**

#### Mask
마스크는 slash로 표기하고, **시작주소와 마스크**가 주어져야 한다.
 * 주소와 마스크가 주어지면 네트워크 주소를 구할 수 있음
   * 예를들어, 임의의 주소와 마스크가 240.20.35.36/28 로 주어진 경우 : 28 비트까지가 네트워크 부분이고 나머지 4비트가
   호스트 부분이라는 의미로, 네트워크 주소는 240.20.35.32

#### Subnetting
대규모의 주소가 할당된 그룹에는 서브넷을 만들고, 다른 서브넷 간에 주소를 나눌 수 있음. 즉 서브넷 주소만 보고도 어느 부서인지, 몇층인지 알 수 있게 구별하는 역할.
