# 패킷의 전달과 거리벡터 라우팅


라우팅 테이블에 대해 알아보며 현재 많이 사용되어지는 거리벡터 라우팅에 대해 학습한다


## 패킷의 전달

송수신자와 중간 장치들이 패킷을 어떻게 처리하는지, 직접과 간접전달 2가지 방법으로 나누어 살펴본다.

### 패킷의 처리

인터넷은 여러 네트워크의 연결로 구성된다. 송신지에서 목적지까지 가는 경로는 여럿이 존재하며 네트워크 계층은 여러 네트워크를 통한 패킷 전달 문제를 해결한다.

#### 송신자(보내는 쪽)

* 송신자의 네트워크 계층은 패킷을 생성
  * 패킷이 너무 크다면 단편화가 발생
  * 목적지에서 패킷을 전달할때 가장 좋은 경로(best pass)를 찾기 위해 **라우팅 테이블**을 참조

#### 수신자
* 목적지의 네트워크 계층은 패킷의 헤더의 목적지 주소를 확인해 자신에게 온 패킷인지 검사
  * IP 패킷의 헤더들을 검사
  * 단편화된 패킷들을 받는다면, 단편들을 모아서 하나의 온전한 패킷으로 조립

#### 중간장치
스위치나 라우터 같은 중간장치들은 패킷이 들어오면 헤더의 목적지 주소를 확인하여 라우팅 테이블을 참조하여 보낸다(라우팅).

### 라우팅 테이블 구성의 원칙
패킷의 전달은 직접전달과 간접전달로 나뉜다.

* 직접 전달 : 패킷의 최종목적지가 전달자와 동일한 네트워크 상에 있는 경우, 즉 내부망에 수신자가 있는 경우

* 간접 전달 : 패킷이 최종 목적지에 전달될 때까지 라우터에서 라우터로 전달, 내부망외부에 수신자가 있는 경우

#### 전달 방법

* 이웃 노드 명시(Next-hop method) : 라우팅 테이블은 전체 경로상의 라우터를 명시하지 않고 다음 라우터만을 명시. 다음에 어디로 갈지 알려주고 그곳에 가면 다음 목적지를 또 알려주는 방식
  * 전체 목적지를 한번에 적지 않는 이유는 라우팅 테이블의 길이가 너무 길어지기 때문이다.
  
* 네트워크 주소 명시(Network-specific method) : 동일한 네트워크에 연결된 컴퓨터들은(네트워크 주소가 모두 동일) 하나하나 모두 명시하는 것이 아니라 목적지 네트워크 주소만 명시
  * 192.168.10.20의 경우 192.168.10.0 으로 네트워크 주소만 라우팅 테이블에 등록
  
* 디폴트 지정(Default method)
  * 인터넷에 있는 모든 목적지를 지정할 수 없으므로 지정된 목적지 이외의 모든 지역을 지정하는 라우팅 엔트리를 디폴트라고 함(보통 0.0.0.0)
  * 기타 등등 기본적으로 외부 인터넷을 나갈 떄는 얘를 거쳐 가라 라고 한줄로 끝내기
  
