# 이동통신과 인터넷프로토콜

## 이동전화와 위성네트워크

### 이동전화(cellur phone)
각 이동전화 서비스영역은 cell 이라 불리는 작은 영역으로 나뉘어짐

* cell ? 기지국이 가상적으로 도달 할 수있는 가상의 영역

* MSC(Mobilc Switching Center) : 이동전화와 기지국과의 관계를 관리

* Handoff : 이동전화가 한 셀에서 다른 셀로 이동(기지국 간의 이동)

### 위성 네트워크
인공위성을 이용한 통신 형태, 2개의 Van Allen 벨트로 인해 세개의 층에 각기 다른 인공위성을 띄움


#### GEO(Geosynchronous Earth Orbit)
정지 궤도 위성으로, 지구의 자전속도와 동일하게 움직임

#### MEO(Medium-Earth Orbit)
2개의 Van Allen 벨트 사이에 위치, GPS(Global Positioning System)로 주로 사용된다.

#### LEO(Low-Earth Orbit)
가장 낮은 위치에 존재하며, 음성통신을 하는데 주로 사용된다.

-----

## 인터넷 프로토콜 : IP

### 네트워크 프로토콜
연결지향 프로토콜과 비연결형 프토콜로 구분된다.

* 연결지향 프로토콜: 데이터를 전송하기 전에 반드시 연결설정을 해야함
* 비연결형 프로토콜 : 연결설정과정 없이 **데이터 전송**만이 존재 <-- IP

### IP 패킷의 형태
인터넷 프로토콜인 IP는 비신뢰성(unreliable), 비연결형(connectionless)데이터그램 프로토콜

* best-effort 전달 서비스를 제공
* 에러제어나 흐름제어(수신자를 고려해서 속도 조절)가 없음 -> 다른계층의 프로토콜에서 함 
* 에러 검출만하고 발견되면 폐기

### IP 패킷의 형태

1. 버전(Version : VER) : IP프로토콜의 버전을 나타내는 것, **IPv4와 IPv6**로 나뉨

2. 헤더의 크기(Header length : HLEN) : 헤더의 크기를 나타내는 것으로 **4바이트 단위**로 나타낸 크기, 헤더의 크기는 **20 ~ 60 바이트**로 가변적

3. 서비스 : IP 패킷의 **서비스의 형태**, **응용서비스 마다 주요하게 다루어야 할 특성**으로 지연시간, 신뢰성, 처리량 등 어떤 특성을 고려해야할지 명시

4. 전체 길이(Total Length Field) :IP패킷의 전체 길이, IP패킷의 전체 길이가 얼마나 되는지 나타냄

5. 생존시간(Time To Live:TTL) : IP 데이터그램이 지나가는 최대 홉(hop)의 수, 각 라우터를 지나갈때마다 1씩 줄이고 **0이 된다면 라우터는 해당 데이터그램을 폐기한다.**

6. 프로토콜 : IP 계층 위에 존재하는 상위 프로토콜이 무엇인지 명시, TCP 한테 가냐 UDP한테 가냐 이런것을 명시함

7. 체크섬(Checksum) : IP 패킷의 **헤더에 대한 오류 검사**를 위해 사용

### 단편화와 옵션
프레임의 크기와 형태는 네트워크에 따라서 다르다.(이더넷의 경우는 1500바이트가 최대 크기) IP 패킷은 여러 네트워크를 경유하기 때문에 다양한
데이터링크 프로토콜을 거쳐간다. IP 패킷은 네트워크가 수용할 수 있는 크기로 분할, 이를 **단편화(fragmentation)** 이라 한다. 

* 플래그(Flags)
  * 3비트로 구성되며 첫 번쨰 비트는 사용하지 않음
  * 두 번쨰 비트는 단편화 금지를 의미 : 값이 1이면 단편화하지 말라는 의미
  * 세 번쨰 비트는 **"단편이 더 있음"** 을 의미 : 값이 1이면 "단편이 더 있음"을 의미, 0이면 마지막 단편
  
* 단편화 위치 값(Fragmentation offeset) : 13비트로 구성되어 있으며 단편이 합쳐질 때, 해당 단편의 위치 값이다. 위치 값은 첫 번째부터 시작하며 8바이트 단위로 표시한다. 즉 단편화가 되는건 좋지만 패킷이 도착하는 순서는 다를 수 있다. 그래서 패킷의 순서를 표기하여 자른후 합칠때 위치 값을 보고 합치게 된다.

#### 옵션
옵션은 최대 40바이트까지 가능하다.
